name: Deploy with Manual Approval

on:
  push:
    branches: [ master ]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Build
        run: echo "âœ… Build complete"

  wait-for-approval:
    needs: build
    runs-on: ubuntu-latest
    environment:
      name: test-required-review  # é€™å€‹åå­—è¦å’Œä½ åœ¨ GitHub è¨­å®šçš„ç’°å¢ƒä¸€è‡´
    steps:
      - name: Wait for manual approval
        run: echo "â³ Waiting for approval..."

  deploy:
    needs: wait-for-approval
    runs-on: ubuntu-latest
    steps:
      - name: Deploy
        run: echo "ğŸš€ Deploying to production"
